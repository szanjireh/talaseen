#!/bin/bash

echo "ğŸ” Verifying Talaseen Project Setup..."
echo ""

# Check files
echo "ğŸ“ Checking project structure..."
[ -f "package.json" ] && echo "âœ… Root package.json" || echo "âŒ Missing root package.json"
[ -f "docker-compose.yml" ] && echo "âœ… Docker Compose config" || echo "âŒ Missing docker-compose.yml"
[ -f ".env" ] && echo "âœ… Environment file" || echo "âŒ Missing .env file"
[ -f "setup.sh" ] && echo "âœ… Setup script" || echo "âŒ Missing setup.sh"

echo ""
echo "ğŸ“‚ Checking services..."
[ -d "services/backend" ] && echo "âœ… Backend service" || echo "âŒ Missing backend"
[ -d "services/frontend" ] && echo "âœ… Frontend service" || echo "âŒ Missing frontend"
[ -d "services/vendor-panel" ] && echo "âœ… Vendor panel" || echo "âŒ Missing vendor panel"

echo ""
echo "ğŸ“„ Checking documentation..."
[ -f "README.md" ] && echo "âœ… README" || echo "âŒ Missing README"
[ -f "QUICKSTART.md" ] && echo "âœ… Quick Start Guide" || echo "âŒ Missing QUICKSTART"
[ -f "PROJECT_SUMMARY.md" ] && echo "âœ… Project Summary" || echo "âŒ Missing PROJECT_SUMMARY"
[ -f "8DAY_CHECKLIST.md" ] && echo "âœ… 8-Day Checklist" || echo "âŒ Missing checklist"

echo ""
echo "ğŸ”§ Checking backend files..."
[ -f "services/backend/src/index.ts" ] && echo "âœ… Backend entry point" || echo "âŒ Missing backend index"
[ -f "services/backend/src/models/User.ts" ] && echo "âœ… User model" || echo "âŒ Missing User model"
[ -f "services/backend/src/models/Product.ts" ] && echo "âœ… Product model" || echo "âŒ Missing Product model"
[ -f "services/backend/src/routes/auth.routes.ts" ] && echo "âœ… Auth routes" || echo "âŒ Missing auth routes"
[ -f "services/backend/src/routes/product.routes.ts" ] && echo "âœ… Product routes" || echo "âŒ Missing product routes"

echo ""
echo "ğŸ¨ Checking frontend files..."
[ -f "services/frontend/app/page.tsx" ] && echo "âœ… Homepage" || echo "âŒ Missing homepage"
[ -f "services/frontend/app/products/page.tsx" ] && echo "âœ… Products page" || echo "âŒ Missing products page"
[ -f "services/frontend/components/Navbar.tsx" ] && echo "âœ… Navbar component" || echo "âŒ Missing navbar"
[ -f "services/frontend/components/ProductCard.tsx" ] && echo "âœ… Product card" || echo "âŒ Missing product card"

echo ""
echo "ğŸ–¥ï¸ Checking vendor panel files..."
[ -f "services/vendor-panel/src/pages/Login.tsx" ] && echo "âœ… Login page" || echo "âŒ Missing login"
[ -f "services/vendor-panel/src/pages/Dashboard.tsx" ] && echo "âœ… Dashboard" || echo "âŒ Missing dashboard"
[ -f "services/vendor-panel/src/pages/Products.tsx" ] && echo "âœ… Products page" || echo "âŒ Missing products"
[ -f "services/vendor-panel/src/pages/AddProduct.tsx" ] && echo "âœ… Add product" || echo "âŒ Missing add product"

echo ""
echo "ğŸ“Š File count summary:"
echo "- TypeScript/TSX files: $(find . -type f \( -name "*.ts" -o -name "*.tsx" \) ! -path "*/node_modules/*" | wc -l)"
echo "- Config files: $(find . -type f -name "*.json" ! -path "*/node_modules/*" | wc -l)"
echo "- Documentation: $(find . -type f -name "*.md" | wc -l)"

echo ""
echo "âœ… Verification complete!"
echo ""
echo "ğŸš€ Ready to start? Run:"
echo "   npm run docker:up    # Start with Docker"
echo "   OR"
echo "   ./setup.sh          # Setup for local dev"
echo "   npm run dev         # Start locally"
